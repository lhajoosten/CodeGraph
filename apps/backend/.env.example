# Application
APP_NAME=CodeGraph
APP_VERSION=0.1.0
ENVIRONMENT=development
DEBUG=True

# Server
HOST=0.0.0.0
PORT=8000

# Database
DATABASE_URL=postgresql+asyncpg://codegraph:codegraph@localhost:5432/codegraph
DB_ECHO=False
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=0

# Redis
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL=3600

# Security
SECRET_KEY=your-secret-key-here-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Encryption Key (for OAuth tokens and sensitive data)
# Generate a new key with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# If not provided, it will be derived from SECRET_KEY (less secure)
ENCRYPTION_KEY=

# Cookie Settings
COOKIE_DOMAIN=localhost
COOKIE_SECURE=False
COOKIE_SAMESITE=lax

# CSRF Protection
CSRF_SECRET_KEY=your-csrf-secret-key-here-change-in-production

# Session Management
SESSION_EXPIRE_HOURS=168
MAX_SESSIONS_PER_USER=5

# URLs
BACKEND_URL=http://localhost:8000
FRONTEND_URL=http://localhost:5173

# CORS
CORS_ORIGINS=http://localhost:5173,http://localhost:3000
CORS_ALLOW_CREDENTIALS=True

# Anthropic API
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_DEFAULT_MODEL=claude-haiku-4-5-20251001

# LangSmith (optional for tracing)
LANGSMITH_API_KEY=your-langsmith-api-key-here
LANGSMITH_PROJECT=codegraph
LANGSMITH_TRACING=true

# GitHub Integration (for code operations)
GITHUB_TOKEN=your-github-token-here

# OAuth Providers
# Configure these to enable OAuth login with GitHub, Google, and Microsoft
# Leave empty to disable a provider

# GitHub OAuth
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Microsoft OAuth
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=

# Email Service
# Use 'mock' for development (logs emails instead of sending), 'smtp' for production
EMAIL_SERVICE_MODE=mock

# Email Service (SMTP) - Gmail Configuration (Development)
# For production, use a transactional email service like Postmark or SendGrid
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-gmail@gmail.com
SMTP_PASSWORD=your-16-char-app-password
SMTP_FROM_EMAIL=your-gmail@gmail.com
SMTP_FROM_NAME=CodeGraph
SMTP_USE_TLS=True

# Alternative: Postmark Configuration
# SMTP_HOST=smtp.postmarkapp.com
# SMTP_PORT=587
# SMTP_USERNAME=your-postmark-api-token
# SMTP_PASSWORD=your-postmark-api-token
# SMTP_FROM_EMAIL=noreply@yourdomain.com
# SMTP_FROM_NAME=CodeGraph
# SMTP_USE_TLS=True

# Email Token Expiry
EMAIL_VERIFICATION_TOKEN_EXPIRE_HOURS=24
PASSWORD_RESET_TOKEN_EXPIRE_HOURS=1

# Agent Configuration
MAX_AGENT_ITERATIONS=20
AGENT_TIMEOUT_SECONDS=300

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
